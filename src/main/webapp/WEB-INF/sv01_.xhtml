<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
			 xmlns:f="http://xmlns.jcp.org/jsf/core"
			 xmlns:h="http://xmlns.jcp.org/jsf/html"
			 xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
			 xmlns:p="http://primefaces.org/ui"
			 xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
			 xmlns:jsf="http://xmlns.jcp.org/jsf">


	<div style="padding: 2px 2px">

		<p:panel id="cadastro-viagem">

			<div class="botao_central" align="left"
				 style="width: 100%; background-color: rgba(255, 255, 255, 0.18);">



				<p:commandLink styleClass="btn btn-primary btn-sm"
							   type="button" action="#{sv_cadastro_controller.salvarViagem()}"
							   onclick="start()" onsuccess="stop()" onerror="stop()"
							   oncomplete="PF('dlg_escolha_page').show();"
							   rendered="#{sv_cadastro_controller.poderEditar()}"
							   update="form-cadastro-viagem:tab_viagem" process="cadastro-viagem"
							   style="color:#fff; margin: 2px 2px">
					<i class="fa fa-save"></i>
					<span style="font-family: Arial">Salvar</span>
				</p:commandLink>

				<p:commandLink onclick="start()" onsuccess="stop()" onerror="stop()"
							   rendered="#{sv_cadastro_controller.viagem.id != null and sv_cadastro_controller.poderEditar()}"
							   action="#{sv_cadastro_controller.autorizar()}"
							   styleClass="btn btn-success btn-sm" type="button"
							   style="color:#fff; margin: 2px 2px;">
					<p:confirm header="Confirmação" message="Autorizar solicitação?"
							   icon="ui-icon-alert" />
					<i class="fa fa-check"></i>
					<span style="font-family: Arial">Autorizar</span>
				</p:commandLink>

				<p:commandLink
						rendered="#{sv_cadastro_controller.viagem.id != null}"
						styleClass="btn btn-default btn-sm" ajax="false"
						process="@this" target="_blank"
						action="#{sv_cadastro_controller.gerarRelatorioViagem()}"
						style="color:#000; margin: 2px 2px;">
					<i class="fa fa-print"></i>
					<span style="font-family: Arial">Imprimir</span>
				</p:commandLink>

			</div>

			<p:panelGrid columns="4" styleClass="ui-noborder" >

				<h:outputText value="Missão:*" />
				<p:inputText id="missao"
							 value="#{sv_cadastro_controller.viagem.missao}" required="true"
							 requiredMessage="Campo 'Missão' é obrigatório" />



				<p:spacer></p:spacer>
				<p:spacer></p:spacer>

				<p:outputLabel value="Gestão:" />
				<p:autoComplete styleClass="font12-vi" panelStyle="width:180px"
								placeholder="Superintendencia/Coordenadoria/Regional"
								value="#{sv_cadastro_controller.viagem.gestao}" size="50"
								completeMethod="#{sv_cadastro_controller.completeGestao}"
								var="gestao" itemLabel="#{gestao.nome}" itemValue="#{gestao}"
								converter="gestaoConverterVI" minQueryLength="3" />




				<p:outputLabel value="Destino:" />
				<p:autoComplete styleClass="font12-vi" required="true"
								requiredMessage="Preencha o campo 'Destino'"
								size="40" placeholder="Destino"
								value="#{sv_cadastro_controller.viagem.localidade}"
								completeMethod="#{sv_cadastro_controller.completeLocalidade}"
								var="cidade" itemLabel="#{cidade.nome}" itemValue="#{cidade}"
								converter="localConverterVI" minQueryLength="3" />

				<h:outputText value="Transporte de Ida:" />
				<p:selectOneMenu id="veiculoIda"
								 value="#{sv_cadastro_controller.viagem.veiculoIda}" filter="true">
					<f:selectItem itemLabel="Selecione" itemValue=""
								  noSelectionOption="true" />
					<f:selectItems value="#{sv_cadastro_controller.transporte}"
								   var="viagem" itemLabel="#{viagem.nome}" itemValue="#{viagem}" />

				</p:selectOneMenu>

				<h:outputText value="Transporte de Volta:" />
				<p:selectOneMenu id="veiculoVolta"
								 value="#{sv_cadastro_controller.viagem.veiculoVolta}" filter="true">
					<f:selectItem itemLabel="Selecione" itemValue=""
								  noSelectionOption="true" />
					<f:selectItems value="#{sv_cadastro_controller.transporte}"
								   var="viagem" itemLabel="#{viagem.nome}" itemValue="#{viagem}" />
				</p:selectOneMenu>


				<h:outputText value="Dt. partida: " />
				<p:calendar value="#{sv_cadastro_controller.viagem.dataIda}"
							timeZone="America/Manaus" navigator="true" size="15"
							pattern="dd/MM/yyyy HH:mm" required="true"
							requiredMessage="Campo 'Dt. partida' é obrigatório" />

				<h:outputText value="Dt. Retorno: " />
				<p:calendar id="dataVolta" size="15"
							value="#{sv_cadastro_controller.viagem.dataVolta}"
							timeZone="America/Manaus" navigator="true"
							pattern="dd/MM/yyyy HH:mm" required="true"
							requiredMessage="Campo 'Dt. retorno' é obrigatório" />


				<h:outputText value="Motivo: " />
				<p:inputTextarea value="#{sv_cadastro_controller.viagem.motivo}"
								 rows="6" style="width:100%" />

				<h:outputText value="Observação:" />
				<p:inputTextarea value="#{sv_cadastro_controller.viagem.observacao}"
								 rows="6" cols="33" style="width:100%" />


			</p:panelGrid>



		</p:panel>

	</div>



</ui:fragment>