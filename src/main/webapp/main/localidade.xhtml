<!DOCTYPE html>
<ui:composition template="/WEB-INF/Layout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:jsf="http://xmlns.jcp.org/jsf">

	<ui:define name="menu_lateral">

		<h:form id="tabela_menu">

			<p:dataTable id="tab-menu" scrollable="true" emptyMessage="..."
				scrollHeight="300" styleClass="table table-hover"
				value="#{localidadeController.menus}" var="menu">
				
				<p:column>
					<p:commandLink action="#{localidadeController.redirecionar(menu)}" process="@this"
						style="font-size:1em;" value="#{menu.nome}">f
						
					</p:commandLink>
					<span style="margin-left: 4px; float: right; color: #849A39"
						class="#{menu.icon}"></span>
				</p:column>

			</p:dataTable>
		</h:form>

	</ui:define>

	<f:facet name="header">

	</f:facet>

	<ui:define name="content">
		<h:form id="formUsuario">
			<p:messages id="msgs"  showSummary="false"
						showDetail="true" showIcon="true" closable="true" />
			<p:dataTable id="list" rows="100"
				value="#{localidadeController.list}" var="bean" paginator="true">
				

				<f:facet name="header">

					<p:commandLink id="add" style="margin-left:5px"
						action="#{localidadeController.novo()}"
						rendered="#{localidadeController.poderEditar()}"
						value="Novo"
						title="Adicionar Campo">
						<span style="color: green; font-size: 25px;">
						</span>
					</p:commandLink>


				</f:facet>

				<p:column
					filterBy="#{bean.nome}"
					headerText="Nome" style="text-align:center">

					<h:outputText value="#{bean.nome}">
					</h:outputText>

				</p:column>

				<p:column
					filterBy="#{bean.mascara}"
					headerText="Máscara" style="text-align:center">

					<h:outputText value="#{bean.mascara}"/>
					
				</p:column>

				<p:column
					filterBy="#{bean.estado.nome}"
					headerText="Estado" style="text-align:center">

					<h:outputText value="#{bean.estado.nome}"/>
					

				</p:column>

				<p:column
					filterBy="#{bean.paiss}"
					headerText="País" style="text-align:center">

					<h:outputText value="#{bean.paiss}"/>

				</p:column>

				<p:column
					filterBy="#{bean.unidadeConservacao.mascara}"
					headerText="Unidade de Conservação"
					style="text-align:center">

					<h:outputText value="#{bean.unidadeConservacao.nome}" />

				</p:column>
				
				<p:column headerText="Ação" style="width:10%;text-align: center;">
					<p:commandLink title="Excluir" rendered="true" update="list"
						value="Excluir" action="#{localidadeController.delete(bean)}" />
					<p:spacer width="10px" />
					
					<p:link value="Editar" outcome="/main/localidade_edit">
						<f:param name="idLocalidade" value="#{bean.id}"/>
					</p:link>

				</p:column>
			</p:dataTable>
		</h:form>
	</ui:define>

</ui:composition>