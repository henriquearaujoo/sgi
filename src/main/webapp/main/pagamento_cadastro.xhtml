<!DOCTYPE html>
<ui:composition template="/WEB-INF/LayoutFullPage.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:jsf="http://xmlns.jcp.org/jsf" xmlns:o="http://omnifaces.org/ui">


	<ui:define name="content">

		<h:form id="form-cadastro" prependId="false">

			<p:messages id="messages" showDetail="true" showSummary="false"
				closable="true">
				<p:autoUpdate />
			</p:messages>


			<p:breadCrumb>
				<p:menuitem value="Categories" url="home_new.xhtml" />
				<p:menuitem value="Pagamentos" url="pagamento.xhtml" />
				<p:menuitem value="Cadastro/Edição de pagamento" />
			</p:breadCrumb>

			<f:metadata>
				<o:viewParam name="lanc" value="#{pagamentoController.pagamento}" />
				<f:viewAction action="#{pagamentoController.initCadastro()}" />
			</f:metadata>


			<div id="steps">
				<p:steps widgetVar="tabViewVar" rendered="true" id="step"
					activeIndex="#{pagamentoController.stepIndex}" styleClass="custom"
					style="margin-bottom:10px" readonly="false">
					<p:menuitem value="Informações gerais" />
					<p:menuitem id="menu_doc" value="Documentação e condições" />
					<p:menuitem value="Definição de Recursos" />
					<p:menuitem value="Anexos" />
				</p:steps>
			</div>


			<div id="panel-geral">

				<p:panel id="panel-info-geral" styleClass="tab-menu-item-vi">

					<ui:include src="/main/pagamento/info_geral.xhtml" />

				</p:panel>

				<p:panel id="panel-info-doc" styleClass="tab-menu-item-vi"
					style="display: none;">

					<ui:include src="/main/pagamento/docs.xhtml" />
				</p:panel>

				<p:panel id="info-recurso-panel-pf" styleClass="tab-menu-item-vi"
					style="display: none">

					<ui:include src="/main/pagamento/recursos.xhtml" />

				</p:panel>
				<p:panel id="panel-info-anexo" styleClass="tab-menu-item-vi"
					style="display: none">

					<ui:include src="/main/pagamento/anexos.xhtml" />

				</p:panel>
			</div>

			<div class="fixed-btn">

				<p:panel id="btn-panel-p">

					<ui:include src="/main/pagamento/buttons.xhtml" />

				</p:panel>
			</div>

			<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
				<p:commandButton value="Sim" styleClass="ui-confirmdialog-yes"
					icon="pi pi-check" />
				<p:commandButton value="Não" styleClass="ui-confirmdialog-no"
					icon="pi pi-times" />
			</p:confirmDialog>

			<p:dialog header="Confirmação de e-mail" width="65%" height="50%"
				widgetVar="dlg_email" modal="true" closable="true"
				closeOnEscape="true" showEffect="clip" hideEffect="clip">
				<ui:include src="/main/dialog/pagamentos/confirmacao_email.xhtml" />
			</p:dialog>


			<p:dialog header="Salvar" width="40%" height="50%"
				widgetVar="dlg_salvar" modal="true" closable="true"
				closeOnEscape="true" showEffect="clip" hideEffect="clip">
				<ui:include src="/main/dialog/pagamentos/salvar.xhtml" />

			</p:dialog>

		</h:form>



	</ui:define>

	<ui:define name="adicionais">
		
		<p:dialog id="dialog_help" widgetVar="dialog_help" styleClass="help" header="Ajuda"
			showEffect="clip" hideEffect="drop" draggable="false" maximizable="true" minimizable="true" 
			resizable="true" blockScroll="true" onHide="unlockedScroll()" onShow="blockedScroll()" >
				<ui:include src="/main/dialog/help/help_cad_pagamentos.xhtml" />
		</p:dialog>

		<p:dialog header="Arquivo" height="100%" width="400px"
			widgetVar="dlg_arq" modal="true" closable="true" closeOnEscape="true"
			showEffect="clip" hideEffect="clip">
			<h:form id="form-arq">

				<div class="ui-g-12 ui-fluid" style="padding: 8px">

					<div class="ui-g-6" style="text-align: center">
						<p:commandLink action="#{pagamentoController.visualizarArquivo()}"
							target="_blank" process="@this" ajax="false" value="Visualizar"
							onclick="PF('dlg_arq').hide();">
							<span class="pi pi-search"></span>
						</p:commandLink>
					</div>

					<div class="ui-g-6" style="text-align: center">
						<p:commandLink action="#{pagamentoController.baixarArquivo()}"
							process="@this" ajax="false" value="Baixar"
							onclick="PF('dlg_arq').hide();">
							<span class="pi pi-download"></span>
						</p:commandLink>
					</div>

				</div>

			</h:form>
		</p:dialog>

		<p:dialog modal="true" style="z-index:1000" widgetVar="statusDialog"
			showHeader="false" draggable="false" closable="false"
			resizable="false">
			<p:graphicImage library="image" name="aguarde.gif" />
			<p:graphicImage style="width:120px;height:70px" library="image"
				name="logofas.png" />
		</p:dialog>

	</ui:define>


</ui:composition>