<!DOCTYPE html>
<ui:composition template="/WEB-INF/Layout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:jsf="http://xmlns.jcp.org/jsf">


	<ui:define name="menu_lateral">

		<style type="text/css">
.ui-widget {
	font-size: 100%;
}

.semBorda tr, .semBorda td {
	border: none !important;
}

</style>


		<h:form id="tabela_projeto">

			<p:ajaxStatus onstart="PF('statusDialog').show()"
				onsuccess="PF('statusDialog').hide()" />

			<p:dialog widgetVar="statusDialog" modal="true" draggable="false"
				closable="false" resizable="false" showHeader="false"
				style="background-color:#FFFFFF; z-index:1009">
				<p:graphicImage library="image" name="aguarde.gif" />
			</p:dialog>

			<p:dataTable id="tab-menu" scrollable="true" emptyMessage="..."
				scrollHeight="300" styleClass="table table-hover"
				value="#{relatorioCampo.menus}" var="menu">

				<p:column>
					<p:commandLink action="#{pagamentoController.redirecionar()}"
						style="font-size:1em;" value="#{menu.nome}">
						<f:setPropertyActionListener value="#{menu}"
							target="#{pagamentoController.menu}" />
					</p:commandLink>
					<span style="margin-left: 4px; float: right;" class="#{menu.icon}"></span>
				</p:column>

			</p:dataTable>
		</h:form>


	</ui:define>

	<ui:define name="content">

		<h3>Solicitação de Viagem</h3>



		<h:panelGroup id="panel-content">

			<h:panelGroup id="panel-listagem"
				rendered="#{viagemController.panelListagem}">

				<h:form id="form-listagem">
					<p:messages id="msg-pagamento" showSummary="false"
						showDetail="true" showIcon="true" />

					<p:dataTable emptyMessage="Não há solicitaçoes de Viagem"
						id="table-compras" value="#{viagemController.viagems}"
						var="viagem" paginator="ture" widget="comprasTable" rows="15">

						<f:facet name="header">

							<p:outputLabel>
								<h:outputText value="Procura:" />
								<p:inputText id="globalFilter"
									onkeyup="PF('viagemsTable').filter()" style="width:150px"
									placeholder="palavra-chave" />

								<p:commandLink id="add" styleClass="link-content"
									action="#{viagemController.inciarNovaViagem()}"
									update="panel-content" title="Adicionar Viagem">
									<span style="color: green; font-size: 25px;"
										class="icon-plus-alt"> </span>
								</p:commandLink>

								<p:commandLink id="buscar" styleClass="link-content-search"
									oncomplete="PF('dlg_filtro_compra').show();"
									action="#{viagemController.iniciarFiltro()}"
									style="margin-bottom:5px;" title="Buscar">
									<span style="font-size: 25px;" class="fa fa-filter"></span>
								</p:commandLink>


							</p:outputLabel>
						</f:facet>

						<p:column headerText="Codigo" filterBy="#{viagem.id}"
							filterMatchMode="contains">

							<p:commandLink value="SC#{viagem.id}"
								action="#{viagemController.editarViagem()}"
								update="panel-content">
								<f:setPropertyActionListener value="#{viagem}"
									target="#{viagemController.viagem}" />
							</p:commandLink>
						</p:column>

						<p:column headerText="Destino"
							filterBy="#{viagem.localidade.mascara}"
							filterMatchMode="contains">
							<h:outputText value="#{viagem.localidade.mascara}" />
						</p:column>

						<p:column headerText="Data">
							<h:outputText value="#{viagem.dataEmissao}">
								<f:convertDateTime pattern="dd/MM/yyy HH:mm:ss"
									timeZone="America/Manaus" />
							</h:outputText>
						</p:column>

						<p:column headerText="Solicitante"
							filteredBy="#{viagem.solicitante.nome}"
							filteredMatchMode="contains">
							<h:outputText valuer="#{viagem.solicitante.nome}" />
						</p:column>

						<p:column headerText="Status"
							filterBy="#{viagem.statusViagem.nome}" filterMatchMode="in">
							<f:facet name="filter">
								<p:selectCheckboxMenu label="Status"
									onchange="PF('comprasTable').filter()" panelStyle="width:225px"
									scrollHeight="150">
									<f:selectItems value="#{viagemController.statusCompras}"
										var="stt" itemLabel="#{stt.nome}" itemValue="#{stt.nome}" />
								</p:selectCheckboxMenu>
							</f:facet>
							<h:outputText value="#{viagem.statusViagem.nome}" />
						</p:column>
						
						
						<p:column style="width:80px">

							<p:commandButton action="#{viagemController.gerarRelatorio()}" ajax="false"  value="gerar" />
						</p:column>						

					</p:dataTable>

				</h:form>

			</h:panelGroup>

			<h:panelGroup id="panel-cadastro"
				rendered="#{viagemController.panelCadastro}">

				<h:form style="float:right;" id="options">
					<p:growl id="messages" showDetail="true" />

					<p:menuButton value="+">

						<p:menuitem value="Formulario de campo"
							actionListener="#{menuView.save}" update="messages"
							onclick="PF('form-de-campo').show();" />

						<p:menuitem value="Diárias de Viagem"
							onclick="PF('diaria').show();" update="messages" />

						<p:menuitem value="Progamação de Viagem" update="messages"
							onclick="PF('prog-de-viagem').show();" />

						<p:menuitem value="Despesas de Viagem"
							onclick="PF('prog-de-despesas').show();" update="messages" />

					</p:menuButton>
				</h:form>



				<h:form id="form-cadastro">
				
					<p:messages id="msgs"  showSummary="false"
						showDetail="true" showIcon="true" closable="true" />

					<div class="botao_central" align="left"
						style="width: 100%; background-color: rgba(51, 122, 183, 0.18);">

						<p:commandLink styleClass="btn btn-primary btn-sm" type="button"
							action="#{viagemController.salvarViagem()}"
							update="panel-content" style="color:#fff; margin: 2px 2px;"
							value="Salvar" />

						<p:commandLink rendered="#{viagemController.viagem.id != null}"
							styleClass="btn btn-success btn-sm" type="button"
							onclick="aprovar()" style="color:#fff; margin: 2px 2px;"
							value="Aprovar" />


						<p:commandLink action="#{viagemController.voltarListagem()}"
							value="voltar" update="panel-content" process="@this"
							styleClass="btn btn-info btn-sm" />

					</div>

					<p:panelGrid columns="2" layout="grid" id="grid-cadastro">

						<p:remoteCommand name="salvar"
							update="grid-cadastro :form-cadastro:msgs :form-cadastro"
							action="#{compraController.salvarCompra()}"
							process="grid-cadastro" />

						<p:remoteCommand name="aprovar"
							update="grid-cadastro :form-cadastro:msgs :form-cadastro"
							action="#{viagemController.aprovar()}" process="grid-cadastro" />


						<p:row>
							<p:column>
								<h:outputLabel>Missão</h:outputLabel>
								<br />
								<p:inputText id="missao"
									value="#{viagemController.viagem.missao}" />
							</p:column>

						</p:row>

						<p:row>
							<p:column>

								<h:outputLabel>Tipo de Viagem</h:outputLabel>
								<br />
								<p:selectOneMenu id="tviagem"
									value="#{viagemController.viagem.tipoViagem}" filter="true">

									<f:selectItems value="#{viagemController.tipoViagem}"
										var="tviagem" itemLabel="#{tviagem.name}"
										itemValue="#{tviagem}" />

								</p:selectOneMenu>
							</p:column>


						</p:row>


						<p:row>
							<p:column>
								<p:outputLabel value="Tipo de gestão:" />


								<h:panelGroup id="panel-gestao-compra">
									<br></br>
									<p:selectOneMenu id="tipo_gestao_compra"
										value="#{viagemController.viagem.tipoGestao}" size="200"
										style="width:200px">
										<p:ajax listener="#{viagemController.onTipoGestaoChange()}"
											process="@this" update="panel-gestao-compra" />
										<f:selectItem noSelectionOption="true" />
										<f:selectItems value="#{viagemController.tiposGestao}"
											var="tipoGestao" itemLabel="#{tipoGestao.nome}"
											itemValue="#{tipoGestao}" />

									</p:selectOneMenu>

									<p:selectOneMenu id="sup_compra"
										value="#{viagemController.viagem.gestao}"
										rendered="#{viagemController.tipoGestao.equals('Superintendencia')}"
										required="true"
										requiredMessage="Campo 'Superintendencia' obrigatório"
										converter="gestaoConverter">
										<f:selectItems value="#{viagemController.gestoes}" var="gest"
											itemLabel="#{gest.nome}" itemValue="#{gest}" />
									</p:selectOneMenu>

									<p:selectOneMenu id="coord_compra" filter="true"
										filterMatchMode="contains"
										value="#{viagemController.viagem.gestao}"
										rendered="#{viagemController.tipoGestao.equals('Coordenadoria')}"
										required="true"
										requiredMessage="Campo 'Coordenadoria' obrigatório"
										converter="gestaoConverter">
										<f:selectItems value="#{viagemController.gestoes}" var="gest"
											itemLabel="#{gest.nome}" itemValue="#{gest}" />
									</p:selectOneMenu>

									<p:selectOneMenu id="reg_compra" filter="true"
										filterMatchMode="contains"
										value="#{viagemController.viagem.gestao}"
										rendered="#{viagemController.tipoGestao.equals('Regional')}"
										required="true" requiredMessage="Campo 'Regional' obrigatório"
										converter="gestaoConverter">
										<f:selectItems value="#{viagemController.gestoes}" var="gest"
											itemLabel="#{gest.nome}" itemValue="#{gest}" />
									</p:selectOneMenu>
								</h:panelGroup>



							</p:column>

						</p:row>

						<p:row>

							<p:column>
								<p:outputLabel value="Destino/Localização:" />

								<p:outputLabel value="" for="local_compra" />
								<br></br>
								<h:panelGroup id="panel-loc-compra">

									<p:selectOneMenu id="local_compra"
										value="#{viagemController.viagem.tipoLocalidade}" size="200"
										style="width:200px">
										<p:ajax
											listener="#{viagemController.onLocalChangerForProject()}"
											process="@this" update="panel-loc-compra" />
										<f:selectItem noSelectionOption="true" />
										<f:selectItems value="#{viagemController.tipoLocais}"
											var="local" itemLabel="#{local.nome}" itemValue="#{local}" />
									</p:selectOneMenu>

									<p:selectOneMenu id="estado_compra" filter="true"
										filterMatchMode="contains"
										value="#{viagemController.idEstado}"
										rendered="#{viagemController.local.equals('Municipio')}"
										required="true" requiredMessage="Campo 'Estado' obrigatório">
										<p:ajax listener="#{viagemController.onEstadoChange()}"
											process="@this" update="municipio_compra" />
										<f:selectItem itemLabel="Selecione um estado" itemValue="0" />
										<f:selectItems value="#{viagemController.estados}"
											var="estado" itemLabel="#{estado.nome}"
											itemValue="#{estado.id}" />
									</p:selectOneMenu>



									<p:selectOneMenu id="municipio_compra" filter="true"
										filterMatchMode="contains"
										value="#{viagemController.viagem.localidade}"
										rendered="#{viagemController.local.equals('Municipio')}"
										converter="localConverter" required="true"
										requiredMessage="Campo 'Municipio' obrigatório">
										<f:selectItems value="#{viagemController.localidades}"
											var="loc" itemLabel="#{loc.mascara}" itemValue="#{loc}" />
									</p:selectOneMenu>


									<p:selectOneMenu id="comunidade_compra"
										value="#{viagemController.viagem.localidade}" filter="true"
										filterMatchMode="contains" converter="localConverter"
										rendered="#{viagemController.local.equals('Comunidade')}"
										required="true"
										requiredMessage="Campo 'Comunidade' obrigatório">
										<f:selectItems value="#{viagemController.localidades}"
											var="loc" itemLabel="#{loc.nome}" itemValue="#{loc}" />
									</p:selectOneMenu>


									<p:selectOneMenu id="uc_compra"
										value="#{viagemController.viagem.localidade}" filter="true"
										filterMatchMode="contains" converter="localConverter"
										rendered="#{viagemController.local.equals('Uc')}">

										<f:selectItems value="#{viagemController.localidades}"
											var="loc" itemLabel="#{loc.mascara}" itemValue="#{loc}" />

									</p:selectOneMenu>

									<p:selectOneMenu id="sede_compra"
										value="#{viagemController.viagem.localidade}" filter="true"
										filterMatchMode="contains" converter="localConverter"
										rendered="#{viagemController.local.equals('Sede')}"
										required="true" requiredMessage="Campo 'Sede' obrigatório">
										<f:selectItems value="#{viagemController.localidades}"
											var="loc" itemLabel="#{loc.mascara}" itemValue="#{loc}" />
									</p:selectOneMenu>

									<p:selectOneMenu id="nucleo_compra"
										value="#{viagemController.viagem.localidade}" filter="true"
										filterMatchMode="contains" converter="localConverter"
										rendered="#{viagemController.local.equals('Nucleo')}"
										required="true" requiredMessage="Campo 'Núcleo' obrigatório">
										<f:selectItems value="#{viagemController.localidades}"
											var="loc" itemLabel="#{loc.mascara}" itemValue="#{loc}" />
									</p:selectOneMenu>

								</h:panelGroup>


							</p:column>

						</p:row>

						<p:row>

							<p:column>
								<h:outputLabel>Destino</h:outputLabel>
								<br />
								<p:selectOneMenu id="destino"
									value="#{viagemController.viagem.destino}" filter="true">

									<f:selectItems value="#{viagemController.destino}"
										var="destino" itemLabel="#{destino.nome}"
										itemValue="#{destino}" />

								</p:selectOneMenu>

								<br />
								<br />

								<h:outputLabel>Componente </h:outputLabel>
								<br />
								<p:selectOneMenu id="componente"
									value="#{viagemController.viagem.componente}" filter="true">

									<f:selectItems value="#{viagemController.componentes}"
										var="destino" itemLabel="#{destino.nome}"
										itemValue="#{destino}" />

								</p:selectOneMenu>
							</p:column>

						</p:row>

						<p:row>
							<h:outputLabel>Data de Partida </h:outputLabel>
							<br />
							<p:calendar id="dataIda"
								value="#{viagemController.viagem.dataIda}" pattern="dd-MM-yyyy"
								mask="true" />
							<br />
							<br />
							<h:outputLabel>Data de Retorno </h:outputLabel>
							<br />
							<p:calendar id="dataVolta"
								value="#{viagemController.viagem.dataVolta}"
								pattern="dd-MM-yyyy" mask="true" />

						</p:row>

						<p:row>


						</p:row>
						<!-- 
						<p:panelGrid columns="2" layout="grid" id="grid-transporte">
							
								<h:outputLabel>Transporte Ida: </h:outputLabel>
								
								<p:selectOneMenu id="veiculoIda"
									value="#{viagemController.viagem.veiculoIda}" filter="true">

									<f:selectItems value="#{viagemController.transporte}"
										var="viagem" itemLabel="#{viagem.nome}" itemValue="#{viagem}" />

								</p:selectOneMenu>
							
							<h:outputLabel>Transporte Volta: </h:outputLabel>

							<p:selectOneMenu id="veiculoVolta"
								value="#{viagemController.viagem.veiculoVolta}" filter="true">

								<f:selectItems value="#{viagemController.transporte}"
									var="viagem" itemLabel="#{viagem.nome}" itemValue="#{viagem}" />
							</p:selectOneMenu>

						</p:panelGrid>
						 -->
						<p:row>
							<h:outputLabel>Transporte Ida </h:outputLabel>
							<br />
							<p:selectOneMenu id="veiculoIda"
								value="#{viagemController.viagem.veiculoIda}" filter="true">

								<f:selectItems value="#{viagemController.transporte}"
									var="viagem" itemLabel="#{viagem.nome}" itemValue="#{viagem}" />

							</p:selectOneMenu>

						</p:row>

						<p:row>
							<h:outputLabel>Transporte Volta </h:outputLabel>
							<br />
							<p:selectOneMenu id="veiculoVolta"
								value="#{viagemController.viagem.veiculoVolta}" filter="true">

								<f:selectItems value="#{viagemController.transporte}"
									var="viagem" itemLabel="#{viagem.nome}" itemValue="#{viagem}" />
							</p:selectOneMenu>

						</p:row>



						<p:row>
							<p:column>
								<h3>Motivo</h3>
							</p:column>

						</p:row>
						<p:row>
							<p:column>
								<h3>Observação</h3>
							</p:column>
						</p:row>


						<p:inputTextarea value="#{viagemController.viagem.motivo}"
							rows="6" cols="33" />
						<p:inputTextarea value="#{viagemController.viagem.observacao}"
							rows="6" cols="33" />


					</p:panelGrid>





				</h:form>


				<p:dialog header="Formulario de Campo" widgetVar="form-de-campo"
					modal="true" showEffect="clip" hideEffect="clip" height="100%"
					width="92%">

					<h:form id="form-relatorio">

						<p:growl id="msgs" showDetail="true" />

						<p:tabView>
							<p:tab title="Informações Gerais">
								<h:panelGrid columns="2" cellpadding="10">
									<p:graphicImage name="demo/images/godfather/godfather1.jpg" />
									<h:outputText value="The story begins as Don Vito Corleone..." />
								</h:panelGrid>
							</p:tab>
							<p:tab title="Equipes Envolvidas">
								<h:panelGrid columns="2" cellpadding="10">
									<p:graphicImage name="demo/images/godfather/godfather2.jpg" />
									<h:outputText value="Francis Ford Coppola's legendary..." />
								</h:panelGrid>
							</p:tab>
							<p:tab title="Atividades Realizadas">
								<h:panelGrid columns="2" cellpadding="10">
									<p:graphicImage name="demo/images/godfather/godfather3.jpg" />
									<h:outputText value="After a break of more than 15 years..." />
								</h:panelGrid>
							</p:tab>
						</p:tabView>
					</h:form>

				</p:dialog>


				<!-- Programacao de Viagem -->

				<p:dialog header="Progamacao de Viagem" widgetVar="prog-de-viagem"
					modal="true" showEffect="clip" hideEffect="clip" height="100%"
					width="92%">

					<h:panelGroup id="panel-prog">
						<h:form id="form-progamacao">


							<p:growl id="msgs" showDetail="true" />


							<h:panelGroup id="panel-progamacao-listagem"
								rendered="#{viagemController.panelProgListagem}">

								<h:form id="form-listagem">

									<p:messages id="msg-compra" showSummary="false"
										showDetail="true" closable="true" showIcon="true" />

									<p:dataTable emptyMessage="Não há Progamacões de Viagem"
										id="table-compras" value="#{viagemController.progViagems}"
										var="progViagem" rowKey="#{progViagem.id}" paginator="true"
										widgetVar="comprasTable" rows="15">


										<f:facet name="header">
											<p:outputPanel>
												<h:outputText value="Procura:" />
												<p:inputText id="globalFilter"
													onkeyup="PF('comprasTable').filter()" style="width:150px"
													placeholder="palavra-chave" />

												<p:commandLink id="add" styleClass="link-content"
													action="#{viagemController.inciarNovaProgamacaoViagem()}"
													update="panel-prog" title="Adicionar compra">
													<span style="color: green; font-size: 25px;"
														class="icon-plus-alt"></span>
												</p:commandLink>

												<p:commandLink id="buscar" styleClass="link-content-search"
													oncomplete="PF('dlg_filtro_compra').show();"
													action="#{viagemController.iniciarFiltro()}"
													style="float:right; margin-bottom:5px;" title="Buscar">
													<span style="font-size: 25px;" class="fa fa-filter"></span>
												</p:commandLink>


											</p:outputPanel>


										</f:facet>



										<p:column headerText="Data" filterBy="#{progViagem.dataIda}"
											filterMatchMode="contains">

											<p:commandLink value="PV#{progViagem.id}"
												action="#{viagemController.editarProgamacao()}"
												update="panel-prog">
												<f:setPropertyActionListener value="#{progViagem}"
													target="#{viagemController.progViagem}" />
											</p:commandLink>
										</p:column>



										<p:column headerText="Data">
											<h:outputText value="#{progViagem.dataIda}">
												<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss "
													timeZone="America/Manaus" />
											</h:outputText>
										</p:column>

										<p:column headerText="Atividade">
											<h:outputText value="#{progViagem.atividade}" />
										</p:column>

										<p:column headerText="Equipe">
											<h:outputText value="#{progViagem.equipe}" />
										</p:column>


										<p:column style="width:50px">

											<p:commandLink title="Excluir" update="form-listagem"
												styleClass="glyphicon glyphicon-remove"
												style="font-size:14px;" process="@this"
												action="#{viagemController.excluirProg()}">
												<f:setPropertyActionListener value="#{progViagem}"
													target="#{viagemController.progViagem}" />
											</p:commandLink>



										</p:column>

									</p:dataTable>

								</h:form>

							</h:panelGroup>


							<h:panelGroup id="panel-progamacao-cadastro"
								rendered="#{viagemController.panelProgCadastro}">



								<h:form id="form-prog-cadastro">
									<p:messages id="msgs"  showSummary="false"
										showDetail="true" showIcon="true" closable="true" />

									<div class="botao_central" align="left"
										style="width: 100%; background-color: rgba(51, 122, 183, 0.18);">

										<p:commandLink styleClass="btn btn-primary btn-sm"
											type="button" action="#{viagemController.addProgamacao()}"
											update="panel-prog" style="color:#fff; margin: 2px 2px;"
											value="Salvar" />

										<p:commandLink
											action="#{viagemController.voltarProgListagem()}"
											value="voltar" update="panel-prog" process="@this"
											styleClass="btn btn-info btn-sm" />



									</div>


									<h:panelGrid columns="2" layout="grid" id="grid-cadastro"
										style="width:100%;">



										<p:row>

											<p:column>
												<h:outputLabel>Data de Partida </h:outputLabel>
												<br />
												<p:calendar id="dataIda"
													value="#{viagemController.progViagem.dataIda}"
													pattern="dd-MM-yyyy" mask="true" />
											</p:column>
										</p:row>


										<p:row>

											<p:column>
												<h:outputLabel>Data de Retorno </h:outputLabel>
												<br />
												<p:calendar id="dataVolta"
													value="#{viagemController.progViagem.dataVolta}"
													pattern="dd-MM-yyyy" mask="true" />


											</p:column>


										</p:row>




										<p:row>
											<p:column>
												<br />
												<h:outputLabel>Local</h:outputLabel>
												<br />
												<p:inputText value="#{viagemController.progViagem.local}"  required="true"  requiredMessage="O campo local deve ser informado"/>
											</p:column>

										</p:row>


										<p:row>
											<p:column>
												<br />
												<h:outputLabel>Publico</h:outputLabel>
												<br />
												<p:inputText value="#{viagemController.progViagem.publico}" required="true" requiredMessage="O campo publico deve ser informado" />
											</p:column>

										</p:row>

										<p:row>
											<p:column>
												<br />
												<h:outputLabel value="Equipe" />
												<br />
												<p:inputTextarea
													value="#{viagemController.progViagem.equipe}" rows="2"
													cols="33" required="true" requiredMessage="O campo Equipe deve ser informado"  />
											</p:column>

										</p:row>

										<p:row>
											<h:column>

											</h:column>
										</p:row>


										<p:row>
											<br />
											<p:column>
												<h3>Atividade</h3>
												<br />
											</p:column>

										</p:row>
										<p:row>
											<p:column>
												<h3>Observação</h3>
											</p:column>
										</p:row>


										<p:inputTextarea
											value="#{viagemController.progViagem.atividade}" rows="6"
											cols="33" />
										<p:inputTextarea
											value="#{viagemController.progViagem.observacao}" rows="6"
											cols="33" />
									</h:panelGrid>





								</h:form>



							</h:panelGroup>



						</h:form>
					</h:panelGroup>
				</p:dialog>

				<p:dialog header="Despesas de Viagem" widgetVar="prog-de-despesas"
					modal="true" showEffect="clip" hideEffect="clip" height="100%"
					width="92%" id="dialog-despesa">

					<h:panelGroup id="panel-despesa">

						<p:growl id="msgs" showDetail="true" />

						<h:panelGroup id="panel-despesa-listagem"
							rendered="#{viagemController.panelDespesaListagem}">

							<h:form id="form-despesa-listagem">

								<p:growl id="msgs" showDetail="true" />

								<p:tabView binding="#{viagemController.tabview}">

									<p:ajax event="tabChange"
										listener="#{viagemController.definirTabDespesa()}"
										update="panel-despesa" />


									<p:tab title="Todos">
										<h:panelGrid columns="2" cellpadding="10">
											<p:dataTable emptyMessage="Não há Progamacões de Viagem"
												id="table-despesas-todos"
												value="#{viagemController.despesas}" var="despesa"
												paginator="true" widgetVar="comprasTable" rows="15">

												<f:facet name="header">
													<p:outputPanel>
														<h:outputText value="Procura:" />
														<p:inputText id="globalFilter"
															onkeyup="PF('comprasTable').filter()" style="width:150px"
															placeholder="palavra-chave" />

														<p:commandLink id="add" styleClass="link-content"
															action="#{viagemController.iniciarNovaDespesa()}"
															update="panel-despesa" title="Adicionar compra">
															<span style="color: green; font-size: 25px;"
																class="icon-plus-alt"></span>
														</p:commandLink>

														<p:commandLink id="buscar"
															styleClass="link-content-search"
															oncomplete="PF('dlg_filtro_compra').show();"
															action="#{viagemController.iniciarFiltro()}"
															style="float:right; margin-bottom:5px;" title="Buscar">
															<span style="font-size: 25px;" class="fa fa-filter"></span>
														</p:commandLink>


													</p:outputPanel>


												</f:facet>



												<p:column headerText="Atividade Operacional ">

													<p:commandLink value="#{despesa.atividadeDespesa.nome}"
														action="#{viagemController.editarDespesa()}"
														update="panel-despesa">
														<f:setPropertyActionListener value="#{despesa}"
															target="#{viagemController.despesa}" />


													</p:commandLink>

												</p:column>


												<p:column headerText="Unidade">
													<h:outputText value="#{despesa.unidadeMedida.nome}" />
												</p:column>

												<p:column headerText="Quantidade">
													<h:outputText value="#{despesa.quantidade}" />
												</p:column>

												<p:column headerText="Valor real">
													<h:outputText value="#{despesa.valorReal}" />
												</p:column>

												<p:column headerText="Total">
													<h:outputText value="#{despesa.totalReal}" />
												</p:column>

												<p:columnGroup type="footer">

													<p:row>
														<p:column footerText="" />
														<p:column colspan="3" style="text-align:right"
															footerText="Total:" />
														<p:column footerText="#{viagemController.totalDespesa()}" />

													</p:row>



												</p:columnGroup>



											</p:dataTable>



										</h:panelGrid>
									</p:tab>





									<p:tab title="Despesas">
										<h:panelGrid columns="2" cellpadding="10">
											<p:dataTable emptyMessage="Não há Progamacões de Viagem"
												id="table-despesas" value="#{viagemController.despesas}"
												var="despesa" paginator="true" widgetVar="comprasTable"
												rows="15">

												<f:facet name="header">
													<p:outputPanel>
														<h:outputText value="Procura:" />
														<p:inputText id="globalFilter"
															onkeyup="PF('comprasTable').filter()" style="width:150px"
															placeholder="palavra-chave" />

														<p:commandLink id="add" styleClass="link-content"
															action="#{viagemController.iniciarNovaDespesa()}"
															update="panel-despesa" title="Adicionar compra">
															<span style="color: green; font-size: 25px;"
																class="icon-plus-alt"></span>
														</p:commandLink>

														<p:commandLink id="buscar"
															styleClass="link-content-search"
															oncomplete="PF('dlg_filtro_compra').show();"
															action="#{viagemController.iniciarFiltro()}"
															style="float:right; margin-bottom:5px;" title="Buscar">
															<span style="font-size: 25px;" class="fa fa-filter"></span>
														</p:commandLink>


													</p:outputPanel>


												</f:facet>



												<p:column headerText="Atividade Operacional ">

													<p:commandLink value="#{despesa.atividadeDespesa.nome}"
														action="#{viagemController.editarDespesa()}"
														update="panel-despesa">
														<f:setPropertyActionListener value="#{despesa}"
															target="#{viagemController.despesa}" />


													</p:commandLink>

												</p:column>


												<p:column headerText="Unidade">
													<h:outputText value="#{despesa.unidadeMedida.nome}" />
												</p:column>

												<p:column headerText="Quantidade">
													<h:outputText value="#{despesa.quantidade}" />
												</p:column>

												<p:column headerText="Valor real">
													<h:outputText value="#{despesa.valorReal}" />
												</p:column>

												<p:column headerText="Total">
													<h:outputText value="#{despesa.totalReal}" />
												</p:column>

												<p:columnGroup type="footer">

													<p:row>
														<p:column footerText="" />
														<p:column colspan="3" style="text-align:right"
															footerText="Total:" />
														<p:column footerText="#{viagemController.totalDespesa()}" />

													</p:row>



												</p:columnGroup>



											</p:dataTable>



										</h:panelGrid>
									</p:tab>
									<p:tab title="Provimentos">
										<h:panelGrid columns="2" cellpadding="10">

											<p:dataTable emptyMessage="Não há Progamacões de Viagem"
												id="table-despesas-provimentos"
												value="#{viagemController.despesas}" var="despesa"
												paginator="true" widgetVar="comprasTable" rows="15">

												<f:facet name="header">
													<p:outputPanel>
														<h:outputText value="Procura:" />
														<p:inputText id="globalFilter"
															onkeyup="PF('comprasTable').filter()" style="width:150px"
															placeholder="palavra-chave" />

														<p:commandLink id="add" styleClass="link-content"
															action="#{viagemController.iniciarNovaDespesa()}"
															update="panel-despesa" title="Adicionar compra">
															<span style="color: green; font-size: 25px;"
																class="icon-plus-alt"></span>
														</p:commandLink>

														<p:commandLink id="buscar"
															styleClass="link-content-search"
															oncomplete="PF('dlg_filtro_compra').show();"
															action="#{viagemController.iniciarFiltro()}"
															style="float:right; margin-bottom:5px;" title="Buscar">
															<span style="font-size: 25px;" class="fa fa-filter"></span>
														</p:commandLink>


													</p:outputPanel>


												</f:facet>



												<p:column headerText="Atividade Operacional ">

													<p:commandLink value="#{despesa.atividadeDespesa.nome}"
														action="#{viagemController.editarDespesa()}"
														update="panel-despesa">
														<f:setPropertyActionListener value="#{despesa}"
															target="#{viagemController.despesa}" />


													</p:commandLink>

												</p:column>


												<p:column headerText="Unidade">
													<h:outputText value="#{despesa.unidadeMedida.nome}" />
												</p:column>

												<p:column headerText="Quantidade">
													<h:outputText value="#{despesa.quantidade}" />
												</p:column>

												<p:column headerText="Valor real">
													<h:outputText value="#{despesa.valorReal}" />
												</p:column>

												<p:column headerText="Total">
													<h:outputText value="#{despesa.totalReal}" />
												</p:column>

												<p:columnGroup type="footer">

													<p:row>
														<p:column footerText="" />
														<p:column colspan="3" style="text-align:right"
															footerText="Total:" />
														<p:column footerText="#{viagemController.totalDespesa()}" />

													</p:row>



												</p:columnGroup>



											</p:dataTable>





										</h:panelGrid>
									</p:tab>
									<p:tab title="Passagems">
										<h:panelGrid columns="2" cellpadding="10">

											<p:dataTable emptyMessage="Não há Progamacões de Viagem"
												id="table-despesas-passagems"
												value="#{viagemController.despesas}" var="despesa"
												paginator="true" widgetVar="comprasTable" rows="15">

												<f:facet name="header">
													<p:outputPanel>
														<h:outputText value="Procura:" />
														<p:inputText id="globalFilter"
															onkeyup="PF('comprasTable').filter()" style="width:150px"
															placeholder="palavra-chave" />

														<p:commandLink id="add" styleClass="link-content"
															action="#{viagemController.iniciarNovaDespesa()}"
															update="panel-despesa" title="Adicionar compra">
															<span style="color: green; font-size: 25px;"
																class="icon-plus-alt"></span>
														</p:commandLink>

														<p:commandLink id="buscar"
															styleClass="link-content-search"
															oncomplete="PF('dlg_filtro_compra').show();"
															action="#{viagemController.iniciarFiltro()}"
															style="float:right; margin-bottom:5px;" title="Buscar">
															<span style="font-size: 25px;" class="fa fa-filter"></span>
														</p:commandLink>


													</p:outputPanel>


												</f:facet>



												<p:column headerText="Atividade Operacional ">

													<p:commandLink value="#{despesa.atividadeDespesa.nome}"
														action="#{viagemController.editarDespesa()}"
														update="panel-despesa">
														<f:setPropertyActionListener value="#{despesa}"
															target="#{viagemController.despesa}" />


													</p:commandLink>

												</p:column>


												<p:column headerText="Unidade">
													<h:outputText value="#{despesa.unidadeMedida.nome}" />
												</p:column>

												<p:column headerText="Quantidade">
													<h:outputText value="#{despesa.quantidade}" />
												</p:column>

												<p:column headerText="Valor real">
													<h:outputText value="#{despesa.valorReal}" />
												</p:column>

												<p:column headerText="Total">
													<h:outputText value="#{despesa.totalReal}" />
												</p:column>

												<p:columnGroup type="footer">

													<p:row>
														<p:column footerText="" />
														<p:column colspan="3" style="text-align:right"
															footerText="Total:" />
														<p:column footerText="#{viagemController.totalDespesa()}" />

													</p:row>



												</p:columnGroup>



											</p:dataTable>





										</h:panelGrid>
									</p:tab>
									<p:tab title="Custos Economizados">
										<h:panelGrid columns="2" cellpadding="10">

											<p:dataTable emptyMessage="Não há Progamacões de Viagem"
												id="table-despesas-economizadas"
												value="#{viagemController.despesas}" var="despesa"
												paginator="true" widgetVar="comprasTable" rows="15">

												<f:facet name="header">
													<p:outputPanel>
														<h:outputText value="Procura:" />
														<p:inputText id="globalFilter"
															onkeyup="PF('comprasTable').filter()" style="width:150px"
															placeholder="palavra-chave" />

														<p:commandLink id="add" styleClass="link-content"
															action="#{viagemController.iniciarNovaDespesa()}"
															update="panel-despesa" title="Adicionar compra">
															<span style="color: green; font-size: 25px;"
																class="icon-plus-alt"></span>
														</p:commandLink>

														<p:commandLink id="buscar"
															styleClass="link-content-search"
															oncomplete="PF('dlg_filtro_compra').show();"
															action="#{viagemController.iniciarFiltro()}"
															style="float:right; margin-bottom:5px;" title="Buscar">
															<span style="font-size: 25px;" class="fa fa-filter"></span>
														</p:commandLink>


													</p:outputPanel>


												</f:facet>



												<p:column headerText="Atividade Operacional ">

													<p:commandLink value="#{despesa.atividadeDespesa.nome}"
														action="#{viagemController.editarDespesa()}"
														update="panel-despesa">
														<f:setPropertyActionListener value="#{despesa}"
															target="#{viagemController.despesa}" />


													</p:commandLink>

												</p:column>


												<p:column headerText="Unidade">
													<h:outputText value="#{despesa.unidadeMedida.nome}" />
												</p:column>

												<p:column headerText="Quantidade">
													<h:outputText value="#{despesa.quantidade}" />
												</p:column>

												<p:column headerText="Valor real">
													<h:outputText value="#{despesa.valorReal}" />
												</p:column>

												<p:column headerText="Total">
													<h:outputText value="#{despesa.totalReal}" />
												</p:column>

												<p:columnGroup type="footer">

													<p:row>
														<p:column footerText="" />
														<p:column colspan="3" style="text-align:right"
															footerText="Total:" />
														<p:column footerText="#{viagemController.totalDespesa()}" />

													</p:row>



												</p:columnGroup>



											</p:dataTable>



										</h:panelGrid>
									</p:tab>
								</p:tabView>
							</h:form>


						</h:panelGroup>

						<h:panelGroup id="panel-despesa-cadastro"
							rendered="#{viagemController.panelDespesaCadastro}">

							<h:form id="form-prog-cadastro">
								<p:messages id="msgs"  showSummary="false"
									showDetail="true" showIcon="true" closable="true" />

								<div class="botao_central" align="left"
									style="width: 100%; background-color: rgba(51, 122, 183, 0.18);">

									<p:commandLink styleClass="btn btn-primary btn-sm"
										type="button" action="#{viagemController.addDespesa()}"
										update="panel-despesa" style="color:#fff; margin: 2px 2px;"
										value="Salvar" />

									<p:commandLink
										action="#{viagemController.voltarDespListagem()}"
										value="voltar" update="panel-despesa" process="@this"
										styleClass="btn btn-info btn-sm" />



								</div>


								<h:panelGrid columns="2" layout="grid" id="grid-cadastro"
									style="width:100%;">

									<p:row>
										<p:column>
											<h:outputLabel value="Tipo de Despesa" />
											<br />
											<p:selectOneMenu id="tpdespesa"
												value="#{viagemController.despesa.tipoDespesa}"
												filter="true">
												<f:selectItems value="#{viagemController.tipoDespesa}"
													var="tDespesa" itemLabel="#{tDespesa.nome}"
													itemValue="#{tDespesa}" />

											</p:selectOneMenu>

										</p:column>

									</p:row>

									<p:row>

										<p:column>
											<h:outputLabel value="Despesa de Viagem" />
											<br />
											<p:selectOneMenu id="despesa"
												value="#{viagemController.despesa.atividadeDespesa}"
												filter="true">
												<f:selectItems value="#{viagemController.atividadeDespesa}"
													var="despesa" itemLabel="#{despesa.nome}"
													itemValue="#{despesa}" />


											</p:selectOneMenu>

										</p:column>


									</p:row>


									<p:row>

										<p:column>
											<br />
											<h:outputLabel value="Unidade de medida" />
											<br />
											<p:selectOneMenu id="unidade"
												value="#{viagemController.despesa.unidadeMedida}"
												filter="true">
												<f:selectItems value="#{viagemController.unidadeMedida}"
													var="despesa" itemLabel="#{despesa.nome}"
													itemValue="#{despesa}" />


											</p:selectOneMenu>

										</p:column>



									</p:row>
									<p:row>

										<p:column>
											<br />
											<h:outputLabel value="Quantidade" />
											<br />
											<p:inputText value="#{viagemController.despesa.quantidade}">
												<f:convertNumber minFractionDigits="2" />

												<f:ajax event="keyup"
													listener="#{viagemController.atualizaTotal()}"
													render="total" />
											</p:inputText>

										</p:column>

									</p:row>

									<p:row>

										<p:column>
											<br />
											<h:outputLabel value="Valor Real" />
											<br />
											<p:inputText value="#{viagemController.despesa.valorReal}"
												onkeypress="return formatarNumero(this,event,18,2);" required="true" requiredMessage="Valor Real esta nulo">
												<f:convertNumber minFractionDigits="2" />

												<f:ajax event="keyup"
													listener="#{viagemController.atualizaTotal()}"
													render="total" />
											</p:inputText>


										</p:column>

									</p:row>

									<p:row>

										<p:column>
											<br />
											<h:outputLabel value="Total real" />
											<br />
											<p:inputText id="total" value="#{viagemController.totalReal}">
												<f:convertNumber minFractionDigits="2" />

											</p:inputText>


										</p:column>

									</p:row>

									<p:row>

										<p:column>
											<br />
											<h:outputLabel value="Valor Previsto" />
											<br />
											<p:inputText
												value="#{viagemController.despesa.valorPrevisto}"
												onkeypress="return formatarNumero(this,event,18,2);">
												<f:convertNumber minFractionDigits="2" />

												<f:ajax event="keyup"
													listener="#{viagemController.atualizaTotalPrevisto()}"
													render="totalprev" />
											</p:inputText>


										</p:column>

									</p:row>

									<p:row>

										<p:column>
											<br />
											<h:outputLabel value="Total Previsto" />
											<br />
											<p:inputText id="totalprev"
												value="#{viagemController.totalPrevisto}">
												<f:convertNumber minFractionDigits="2" />

											</p:inputText>


										</p:column>

									</p:row>




								</h:panelGrid>



							</h:form>

						</h:panelGroup>


					</h:panelGroup>




				</p:dialog>


				<!-- Panel de Diaria -->
				<p:dialog header="Diarias de Viagem" widgetVar="diaria" modal="true"
					showEffect="clip" hideEffect="clip" height="100%" width="92%">

					<h:panelGroup id="panel-diaria">


						<h:panelGroup id="panel-diaria-listagem"
							rendered="#{viagemController.panelDiariaListagem}">


							<h:form id="form-listagem-diaria">
								<p:messages id="msg-diaria" showSummary="false"
									showDetail="true" showIcon="true" />

								<p:dataTable emptyMessage="Não há solicitaçoes de Diarias"
									id="table-compras" value="#{viagemController.viagem.diaria}"
									var="diaria" paginator="ture" widget="comprasTable" rows="15">

									<f:facet name="header">

										<p:outputLabel>
											<h:outputText value="Procura:" />
											<p:inputText id="globalFilter"
												onkeyup="PF('viagemsTable').filter()" style="width:150px"
												placeholder="palavra-chave" />

											<p:commandLink id="add" styleClass="link-content"
												action="#{viagemController.iniciarNovaDiaria()}"
												update="panel-diaria" title="Adicionar Diaria">
												<span style="color: green; font-size: 25px;"
													class="icon-plus-alt"> </span>
											</p:commandLink>

											<p:commandLink id="buscar" styleClass="link-content-search"
												oncomplete="PF('dlg_filtro_compra').show();"
												action="#{viagemController.iniciarFiltro()}"
												style="margin-bottom:5px;" title="Buscar">
												<span style="font-size: 25px;" class="fa fa-filter"></span>
											</p:commandLink>


										</p:outputLabel>
									</f:facet>

									<p:columnGroup type="header">
										<p:row>
											<p:column rowspan="3" headerText="Codigo" />
											<p:column rowspan="3" headerText="colaborador" />
										</p:row>
										<p:row>
											<p:column colspan="2" headerText="Diaria Integral" />
											<p:column colspan="2" headerText="Diaria Parcial" />
										</p:row>
										<p:row>
											<p:column headerText="Quantidade" />
											<p:column headerText="Valor" />
											<p:column headerText="Quantide" />
											<p:column headerText="Valor" />
										</p:row>
									</p:columnGroup>


									<p:column headerText="Codigo" filterBy="#{diaria.id}"
										filterMatchMode="contains">

										<p:commandLink value="#{diaria.id}"
											action="#{viagemController.editarDiaria()}"
											update="panel-diaria">
											<f:setPropertyActionListener value="#{diaria}"
												target="#{viagemController.diaria}" />
										</p:commandLink>
									</p:column>

									<p:column headerText="colaborador">
										<h:outputText value="#{diaria.profissional.nome}" />
									</p:column>

									<p:column>
										<h:outputText value="#{diaria.quantidadeIntegral}" />
									</p:column>
									<p:column>
										<h:outputText value="#{diaria.valorIntegral}" />
									</p:column>


									<p:column>
										<h:outputText value="#{diaria.quantidadeParcial}" />
									</p:column>
									<p:column>
										<h:outputText value="#{diaria.valorParcial}" />
									</p:column>



									<p:columnGroup type="footer">

										<p:row>
											<p:column footerText="" />
											<p:column footerText="" />
											<p:column colspan="3" style="text-align:right"
												footerText="Total:" />
											<p:column footerText="#{viagemController.totalDiaria()}" />

										</p:row>
									</p:columnGroup>
								</p:dataTable>

							</h:form>





						</h:panelGroup>

						<h:panelGroup id="panel-diaria-cadastro"
							rendered="#{viagemController.panelDiariaCadastro}">

							<h:form id="form-diaria">
								<p:messages id="msgs"  showSummary="false"
									showDetail="true" showIcon="true" closable="true" />

								<div class="botao_central" align="left"
									style="width: 100%; background-color: rgba(51, 122, 183, 0.18);">

									<p:commandLink styleClass="btn btn-primary btn-sm"
										type="button" action="#{viagemController.addDiaria()}"
										update="panel-diaria" style="color:#fff; margin: 2px 2px;"
										value="Salvar" />

									<p:commandLink
										action="#{viagemController.voltarDiariaListagem()}"
										value="voltar" update="panel-diaria" process="@this"
										styleClass="btn btn-info btn-sm" />



								</div>


								<h:panelGrid columns="2" layout="grid" id="grid-cadastro"
									style="width:100%;">


									<p:row>

										<p:column>
											<h:outputLabel>Colaborador</h:outputLabel>
											<br />
											<p:selectOneMenu id="colaborador"
												value="#{viagemController.diaria.profissional}"
												filter="true">

												<f:selectItems value="#{viagemController.colaborador}"
													var="colaborador" itemLabel="#{colaborador.nome}"
													itemValue="#{colaborador}" />

											</p:selectOneMenu>
										</p:column>





									</p:row>


									<p:row>

										<p:column>
											<h:outputLabel>Tipo</h:outputLabel>
											<br />
											<p:selectOneMenu id="tipoDespesa"
												value="#{viagemController.diaria.tipoDiaria}" filter="true">

												<f:selectItems value="#{viagemController.tipoDiaria}"
													var="colaborador" itemLabel="#{colaborador.nome}"
													itemValue="#{colaborador}" />

											</p:selectOneMenu>
										</p:column>



									</p:row>


									<p:row>

										<p:column>
											<br />
											<p:outputLabel value="Adiantamento / Diaria Integral"></p:outputLabel>
											<br />
											<h:outputLabel value="Quantidade:" />
											<p:inputText
												value="#{viagemController.diaria.quantidadeIntegral}">
												<f:convertNumber minFractionDigits="2" />

												<f:ajax event="keyup"
													listener="#{viagemController.atualizaTotalIntegral()}"
													render="totalIntegral" />
											</p:inputText>

											<h:outputLabel value="Valor:" style="margin-left:10px" />

											<p:inputText value="#{viagemController.diaria.valorIntegral}"
												onkeypress="return formatarNumero(this,event,18,2);" required="true" 
												requiredMessage="Preencher valor integral">

												<f:convertNumber minFractionDigits="2" />

												<f:ajax event="keyup"
													listener="#{viagemController.atualizaTotalIntegral()}"
													render="totalIntegral" />
											</p:inputText>

											<br />
											<br />
											<p:outputLabel style="margin-left:46px;">Total:</p:outputLabel>
											<p:inputText id="totalIntegral"
												value="#{viagemController.totalIntegral}" />

										</p:column>
									</p:row>

									<p:row>
										<p:column>
											<br />
											<p:outputLabel value="Diaria Parcial"></p:outputLabel>
											<br />
											<h:outputLabel value="Quantidade:" />
											<p:inputText
												value="#{viagemController.diaria.quantidadeParcial}">
												<f:convertNumber minFractionDigits="2" />

												<f:ajax event="keyup"
													listener="#{viagemController.atualizaTotalParcial()}"
													render="totalParcial" />
											</p:inputText>

											<h:outputLabel value="Valor:" style="margin-left:10px" />

											<p:inputText value="#{viagemController.diaria.valorParcial}"
												onkeypress="return formatarNumero(this,event,18,2);" >

												<f:convertNumber minFractionDigits="2" />

												<f:ajax event="keyup"
													listener="#{viagemController.atualizaTotalParcial()}"
													render="totalParcial" />
											</p:inputText>

											<br />
											<br />
											<p:outputLabel style="margin-left:46px;">Total:</p:outputLabel>
											<p:inputText id="totalParcial"
												value="#{viagemController.totalParcial}" />




										</p:column>
									</p:row>
								</h:panelGrid>
								<br />
								<p:fieldset legend="Trechos" toggleable="true" style="width:80%">


									<p:dataTable id="tab_trecho" var="trecho"
										value="#{viagemController.diaria.trecho}" style="width:80%">

										<f:facet name="header">
											<p:outputPanel id="trecho">
												<h:panelGrid columns="2" layout="grid" 
													id="grid-cadastro-trecho" style="width:100%" styleClass="semBorda" >


													<p:row>

														<p:column>
															<p:outputLabel value="Origem:" />

															<!--<p:outputLabel value="" for="local_compra" />-->
															<br></br>
															<h:panelGroup id="panel-trecho-origem">

																<p:selectOneMenu id="local_origem-trecho"
																	value="#{viagemController.trecho.tipoLocalidadeOrigem}"
																	size="200" style="width:200px">
																	<p:ajax
																		listener="#{viagemController.onLocalTrechoChangeForProject()}"
																		process="@this" update="panel-trecho-origem" />
																	<f:selectItem noSelectionOption="true" />
																	<f:selectItems value="#{viagemController.tipoLocais}"
																		var="local" itemLabel="#{local.nome}"
																		itemValue="#{local}" />
																</p:selectOneMenu>

																<p:selectOneMenu id="estado_trecho_origem" filter="true"
																	filterMatchMode="contains"
																	value="#{viagemController.idEstado}"
																	rendered="#{viagemController.localTrecho.equals('Municipio')}"
																	required="true"
																	requiredMessage="Campo 'Estado' obrigatório">
																	<p:ajax
																		listener="#{viagemController.onEstadoChangeTrechoOrigem()}"
																		process="@this" update="trecho_origem_municipio" />
																	<f:selectItem itemLabel="Selecione um estado"
																		itemValue="0" />
																	<f:selectItems value="#{viagemController.estados}"
																		var="estado" itemLabel="#{estado.nome}"
																		itemValue="#{estado.id}" />
																</p:selectOneMenu>



																<p:selectOneMenu id="trecho_origem_municipio"
																	filter="true" filterMatchMode="contains"
																	value="#{viagemController.trecho.origem}"
																	rendered="#{viagemController.localTrecho.equals('Municipio')}"
																	converter="localConverter" required="true"
																	requiredMessage="Campo 'Municipio' obrigatório">
																	<f:selectItems
																		value="#{viagemController.localidadesTrechoOrigem}"
																		var="loc" itemLabel="#{loc.mascara}"
																		itemValue="#{loc}" />
																</p:selectOneMenu>


																<p:selectOneMenu id="trech_origem_comunidade"
																	value="#{viagemController.trecho.origem}" filter="true"
																	filterMatchMode="contains" converter="localConverter"
																	rendered="#{viagemController.localTrecho.equals('Comunidade')}"
																	required="true"
																	requiredMessage="Campo 'Comunidade' obrigatório">
																	<f:selectItems
																		value="#{viagemController.localidadesTrechoOrigem}"
																		var="loc" itemLabel="#{loc.mascara}"
																		itemValue="#{loc}" />
																</p:selectOneMenu>


																<p:selectOneMenu id="trecho_origem_uc"
																	value="#{viagemController.trecho.origem}" filter="true"
																	filterMatchMode="contains" converter="localConverter"
																	rendered="#{viagemController.localTrecho.equals('Uc')}">

																	<f:selectItems
																		value="#{viagemController.localidadesTrechoOrigem}"
																		var="loc" itemLabel="#{loc.mascara}"
																		itemValue="#{loc}" />

																</p:selectOneMenu>

																<p:selectOneMenu id="trecho_origem_sede"
																	value="#{viagemController.trecho.origem}" filter="true"
																	filterMatchMode="contains" converter="localConverter"
																	rendered="#{viagemController.localTrecho.equals('Sede')}"
																	required="true"
																	requiredMessage="Campo 'Sede' obrigatório">
																	<f:selectItems
																		value="#{viagemController.localidadesTrechoOrigem}"
																		var="loc" itemLabel="#{loc.mascara}"
																		itemValue="#{loc}" />
																</p:selectOneMenu>

																<p:selectOneMenu id="trecho_origem_nucleo"
																	value="#{viagemController.trecho.origem}" filter="true"
																	filterMatchMode="contains" converter="localConverter"
																	rendered="#{viagemController.localTrecho.equals('Nucleo')}"
																	required="true"
																	requiredMessage="Campo 'Núcleo' obrigatório">
																	<f:selectItems
																		value="#{viagemController.localidadesTrechoOrigem}"
																		var="loc" itemLabel="#{loc.mascara}"
																		itemValue="#{loc}" />
																</p:selectOneMenu>

															</h:panelGroup>


														</p:column>
													</p:row>
													<p:row>
														<p:column>
															<p:outputLabel value="Destino" />

															<!--<p:outputLabel value="" for="local_compra" />-->
															<br></br>
															<h:panelGroup id="panel-trecho-destino">

																<p:selectOneMenu id="local_destino-trecho"
																	value="#{viagemController.trecho.tipoLocalidadeDestino}"
																	size="200" style="width:200px">
																	<p:ajax
																		listener="#{viagemController.onLocalTrechoDestinoChangeForProject()}"
																		process="@this" update="panel-trecho-destino" />
																	<f:selectItem noSelectionOption="true" />
																	<f:selectItems value="#{viagemController.tipoLocais}"
																		var="localDestino" itemLabel="#{localDestino.nome}"
																		itemValue="#{localDestino}" />
																</p:selectOneMenu>

																<p:selectOneMenu id="estado_trecho_destino"
																	filter="true" filterMatchMode="contains"
																	value="#{viagemController.idEstado}"
																	rendered="#{viagemController.localTrechoDestino.equals('Municipio')}"
																	required="true"
																	requiredMessage="Campo 'Estado' obrigatório">
																	<p:ajax
																		listener="#{viagemController.onEstadoChangeTrechoDestino()}"
																		process="@this" update="trecho_destino_municipio" />
																	<f:selectItem itemLabel="Selecione um estado"
																		itemValue="0" />
																	<f:selectItems value="#{viagemController.estados}"
																		var="estadoDestino" itemLabel="#{estadoDestino.nome}"
																		itemValue="#{estadoDestino.id}" />
																</p:selectOneMenu>



																<p:selectOneMenu id="trecho_destino_municipio"
																	filter="true" filterMatchMode="contains"
																	value="#{viagemController.trecho.destino}"
																	rendered="#{viagemController.localTrechoDestino.equals('Municipio')}"
																	converter="localConverter" required="true"
																	requiredMessage="Campo 'Municipio' obrigatório">
																	<f:selectItems
																		value="#{viagemController.localidadesTrechoDestino}"
																		var="locDestino" itemLabel="#{locDestino.mascara}"
																		itemValue="#{locDestino}" />
																</p:selectOneMenu>


																<p:selectOneMenu id="trech_destino_comunidade"
																	value="#{viagemController.trecho.destino}"
																	filter="true" filterMatchMode="contains"
																	converter="localConverter"
																	rendered="#{viagemController.localTrechoDestino.equals('Comunidade')}"
																	required="true"
																	requiredMessage="Campo 'Comunidade' obrigatório">
																	<f:selectItems
																		value="#{viagemController.localidadesTrechoDestino}"
																		var="locDestino" itemLabel="#{locDestino.mascara}"
																		itemValue="#{locDestino}" />
																</p:selectOneMenu>


																<p:selectOneMenu id="trecho_destino_uc"
																	value="#{viagemController.trecho.destino}"
																	filter="true" filterMatchMode="contains"
																	converter="localConverter"
																	rendered="#{viagemController.localTrechoDestino.equals('Uc')}">

																	<f:selectItems
																		value="#{viagemController.localidadesTrechoDestino}"
																		var="locDestino" itemLabel="#{locDestino.mascara}"
																		itemValue="#{locDestino}" />

																</p:selectOneMenu>

																<p:selectOneMenu id="trecho_destino_sede"
																	value="#{viagemController.trecho.destino}"
																	filter="true" filterMatchMode="contains"
																	converter="localConverter"
																	rendered="#{viagemController.localTrechoDestino.equals('Sede')}"
																	required="true"
																	requiredMessage="Campo 'Sede' obrigatório">
																	<f:selectItems
																		value="#{viagemController.localidadesTrechoOrigem}"
																		var="locDestino" itemLabel="#{locDestino.mascara}"
																		itemValue="#{locDestino}" />
																</p:selectOneMenu>

																<p:selectOneMenu id="trecho_destino_nucleo"
																	value="#{viagemController.trecho.destino}" filter="true"
																	filterMatchMode="contains" converter="localConverter"
																	rendered="#{viagemController.localTrechoDestino.equals('Nucleo')}"
																	required="true"
																	requiredMessage="Campo 'Núcleo' obrigatório">
																	<f:selectItems
																		value="#{viagemController.localidadesTrechoDestino}"
																		var="loc" itemLabel="#{loc.mascara}"
																		itemValue="#{loc}" />
																</p:selectOneMenu>

															</h:panelGroup>


														</p:column>


													</p:row>
													<p:row>
														<p:column>

															<p:outputLabel value="Data" />
															<br />
															<p:calendar id="datetime"
																value="#{viagemController.trecho.data}"
																pattern="MM/dd/yyyy HH:mm:ss" />


														</p:column>
													</p:row>
													<p:row>
														<p:column>
															<p:outputLabel value="Empresa" />
															<br />
															<p:selectOneMenu id="empresa"
																value="#{viagemController.trecho.empresa}" filter="true"
																requiredMessage="">
																<f:selectItems value="#{viagemController.fornecedores}"
																	var="fornecedor" itemLabel="#{fornecedor.nomeFantasia}"
																	itemValue="#{fornecedor}" />
															</p:selectOneMenu>



														</p:column>

														<p:column>

															<p:commandLink styleClass="btn btn-primary btn-sm"
																process="trecho" type="button" update="tab_trecho"
																action="#{viagemController.addTrecho()}"
																style="color:#fff; margin-left: 10px; margin-top: -20px" value="Adicionar" />


														</p:column>

													</p:row>

												</h:panelGrid>
											</p:outputPanel>
										</f:facet>

										<p:column headerText="Origem">
											<h:outputText value="#{trecho.origem.nome}" />
										</p:column>

										<p:column headerText="Destino">
											<h:outputText value="#{trecho.destino.nome}" />
										</p:column>

										<p:column headerText="Empresa">
											<h:outputText value="#{trecho.empresa.nomeFantasia}" />
										</p:column>



									</p:dataTable>

								</p:fieldset>






							</h:form>







						</h:panelGroup>




					</h:panelGroup>



				</p:dialog>





			</h:panelGroup>





		</h:panelGroup>



	</ui:define>

	<ui:define name="adicionais">






















	</ui:define>


</ui:composition>